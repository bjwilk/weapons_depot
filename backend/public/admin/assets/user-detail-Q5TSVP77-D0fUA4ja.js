import{q as c,d,R as u,ej as m,a as p,j as a,dB as f,p as x,s as g,b as y,u as h,ek as j,H as v,A as w,T as l}from"./index-Dd5AIRt1.js";import{S}from"./chunk-UR2E444G-D2Lbw7mb.js";import"./chunk-3IW4HYUP-DD0tWyEL.js";import{P as T}from"./pencil-square-rz5ZnZ22.js";import{T as b}from"./trash-B_yspgao.js";import{u as C}from"./use-prompt-BS3ABRGp.js";import{C as D}from"./container-ChTfB2gf.js";import"./Trans-CM9vMdxp.js";import"./x-mark-mini-BWMGrVIU.js";import"./prompt-DruOcYql.js";var q=e=>({queryKey:x.detail(e),queryFn:async()=>g.admin.user.retrieve(e)}),H=async({params:e})=>{const s=e.id,t=q(s);return c.getQueryData(t.queryKey)??await c.fetchQuery(t)},P=({user:e})=>{const{t:s}=y(),t=h(),n=C(),{mutateAsync:o}=j(e.id),r=[e.first_name,e.last_name].filter(Boolean).join(" "),i=async()=>{await n({title:s("general.areYouSure"),description:s("users.deleteUserWarning",{name:r??e.email}),verificationText:r??e.email,verificationInstruction:s("general.typeToConfirm"),confirmText:s("actions.delete"),cancelText:s("actions.cancel")})&&await o(void 0,{onSuccess:()=>{t("..")}})};return a.jsxs(D,{className:"divide-y p-0",children:[a.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[a.jsx(v,{children:e.email}),a.jsx(w,{groups:[{actions:[{label:s("actions.edit"),to:"edit",icon:a.jsx(T,{})}]},{actions:[{label:s("actions.delete"),onClick:i,icon:a.jsx(b,{})}]}]})]}),a.jsxs("div",{className:"text-ui-fg-subtle grid grid-cols-2 items-center px-6 py-4",children:[a.jsx(l,{size:"small",leading:"compact",weight:"plus",children:s("fields.name")}),a.jsx(l,{size:"small",leading:"compact",children:r??"-"})]})]})},J=()=>{const e=d(),{id:s}=u(),{user:t,isPending:n,isError:o,error:r}=m(s,void 0,{initialData:e}),{getWidgets:i}=p();if(n||!t)return a.jsx(f,{sections:1,showJSON:!0,showMetadata:!0});if(o)throw r;return a.jsx(S,{data:t,showJSON:!0,showMetadata:!0,widgets:{after:i("user.details.after"),before:i("user.details.before")},children:a.jsx(P,{user:t})})};export{J as Component,H as loader};
